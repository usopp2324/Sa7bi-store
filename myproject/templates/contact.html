{% extends 'base.html' %}

{% block title %}Contact Us - Sa7bi{% endblock %}

{% block content %}
<style>
/* --- Contact page specific styles (preserved) --- */
:root { --accent: #ef4444; --accent-dark: #991b1b; --accent-light: #fca5a5; --bg-dark: #0a0a0f; --bg-dark-secondary: #12121a; }
html, body { overflow-x: hidden; }
* { font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; }
.bg-dots { background-image: radial-gradient(circle, rgba(239,68,68,0.15) 1px, transparent 1px), radial-gradient(circle, rgba(239,68,68,0.08) 1px, transparent 1px); background-size:50px 50px,100px 100px; background-position:0 0,25px 25px; position:relative; overflow-x:hidden; }
.glow-effect { position:absolute; border-radius:50%; filter:blur(40px); opacity:0.3; animation:float 6s ease-in-out infinite; }
.glow-red { width:300px; height:300px; background:rgba(239,68,68,0.5); top:-100px; left:-100px; }
.glow-purple { width:200px; height:200px; background:rgba(168,85,247,0.3); bottom:100px; right:-100px; animation-delay:3s; }
@keyframes float { 0%,100%{transform:translateY(0px);}50%{transform:translateY(20px);} }
/* Contact Card, inputs, animations, helpers copied from original */
.contact-card{background:linear-gradient(135deg,rgba(30,41,59,0.6) 0%,rgba(15,23,42,0.6)100%);border:1px solid rgba(71,85,105,0.2);border-radius:14px;padding:24px;transition:all .3s cubic-bezier(.4,0,.2,1);backdrop-filter:blur(12px);cursor:pointer;position:relative;overflow:hidden;display:block}
.contact-card::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(239,68,68,0.08),transparent);transition:left .5s ease;z-index:1}
.contact-card:hover::before{left:100%}
.contact-card:hover{border-color:rgba(239,68,68,0.3);background:linear-gradient(135deg,rgba(30,41,59,0.8)0%,rgba(15,23,42,0.8)100%);transform:translateY(-6px);box-shadow:0 25px 50px rgba(239,68,68,0.12), inset 0 1px 0 rgba(239,68,68,0.1)}
.contact-card>div{position:relative;z-index:2}
.form-input{width:100%;padding:12px 16px;background:rgba(15,23,42,0.7);border:1px solid rgba(71,85,105,0.25);border-radius:10px;color:#fff;font-size:14px;transition:all .3s;backdrop-filter:blur(12px)}
.form-input::placeholder{color:rgba(148,163,184,0.5)}
.form-input:focus{outline:none;border-color:rgba(239,68,68,0.5);background:rgba(15,23,42,0.9);box-shadow:0 0 0 3px rgba(239,68,68,0.1)}
.form-input:hover{border-color:rgba(239,68,68,0.3);background:rgba(15,23,42,0.8)}
@keyframes slideInLeft{from{opacity:0;transform:translateX(-30px)}to{opacity:1;transform:translateX(0)}}
@keyframes slideInRight{from{opacity:0;transform:translateX(30px)}to{opacity:1;transform:translateX(0)}}
@keyframes slideInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeInUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
@keyframes pulse-glow{0%,100%{box-shadow:0 0 20px rgba(239,68,68,0.4)}50%{box-shadow:0 0 40px rgba(239,68,68,0.6)}}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-5px)}75%{transform:translateX(5px)}}
.animate-in{animation:slideInUp .6s ease-out forwards}
.animate-in-right{animation:slideInRight .6s ease-out forwards}
.animate-shake{animation:shake .4s ease-in-out}
.spinner{display:inline-block;width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:spin .8s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.success-message{animation:fadeInUp .4s ease-out forwards}
.success-checkmark{display:inline-flex;align-items:center;justify-content:center}
.success-checkmark .check-icon{width:24px;height:24px}
.success-checkmark .check-icon::after{content:'âœ“';color:#4ade80;font-size:16px;font-weight:bold}
.stagger-1{--delay:.1s}.stagger-2{--delay:.2s}.stagger-3{--delay:.3s}.stagger-4{--delay:.4s}
.animate-stagger{animation:slideInLeft .6s ease-out forwards;animation-delay:var(--delay,0s);opacity:0}
nav{box-shadow:0 10px 30px rgba(0,0,0,.3)}
.btn-primary{background:linear-gradient(135deg,#ef4444 0%,#dc2626 100%);transition:all .3s ease;position:relative;overflow:hidden}
.btn-primary::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s ease}
.btn-primary:hover{background:linear-gradient(135deg,#dc2626 0%,#b91c1c 100%);transform:translateY(-2px);box-shadow:0 20px 40px rgba(239,68,68,.4)}
.btn-primary:hover::before{left:100%}.btn-primary:active{transform:translateY(0);box-shadow:0 10px 20px rgba(239,68,68,.2)}
.social-icon{transition:all .3s ease;position:relative}
.social-icon::after{content:'';position:absolute;inset:-2px;border-radius:8px;border:2px solid currentColor;opacity:0;transition:opacity .3s ease}
.social-icon:hover::after{opacity:.2}
.status-badge{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;background:rgba(34,197,94,.1);border:1px solid rgba(34,197,94,.3);border-radius:6px;color:#22c55e;font-size:13px;font-weight:500}
.status-dot{width:8px;height:8px;background:#22c55e;border-radius:50%;animation:pulse 2s ease-in-out infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}
@media (max-width:820px){.form-input{font-size:16px}}@media (max-width:480px){.contact-card{padding:16px}.btn-primary{width:100%}}
</style>

<!-- Page visuals (glows) -->
<div class="relative">
  <div class="glow-effect glow-red"></div>
  <div class="glow-effect glow-purple"></div>
</div>

<!-- Page wrapper uses same background look as original -->
<div class="bg-dots min-h-screen pt-6 pb-16 px-4 relative z-10 text-white">
  <div class="max-w-6xl mx-auto">
    <!-- Header -->
    <div class="text-center mb-20 animate-in">
      <h1 class="text-5xl sm:text-6xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-red-400 via-red-500 to-red-600 bg-clip-text text-transparent leading-tight">Get In Touch</h1>
      <p class="text-lg sm:text-xl text-slate-300 max-w-2xl mx-auto leading-relaxed">We're here to help and answer any question you might have. Reach out to us and we'll get back to you as soon as possible.</p>
    </div>

    <!-- Content Grid -->
    <div class="grid md:grid-cols-2 gap-12 mb-20">
      <!-- Left Column: Contact Info -->
      <div class="space-y-6">
        <div class="space-y-3">
          <!-- Email -->
          <a href="mailto:support@sa7bi.gg" class="contact-card stagger-1 animate-stagger group">
            <div class="flex items-start gap-4">
              <div class="flex-shrink-0">
                <div class="flex items-center justify-center h-14 w-14 rounded-xl bg-gradient-to-br from-red-500/20 to-red-600/20 text-red-400 group-hover:from-red-500 group-hover:to-red-600 group-hover:text-white transition-all duration-300 shadow-lg shadow-red-500/10">
                  <svg class="w-9 h-9" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
                </div>
              </div>
              <div>
                <h3 class="text-lg font-bold text-white group-hover:text-red-400 transition-colors">Email</h3>
                <p class="text-slate-300 font-medium group-hover:text-red-300 transition-colors">support@sa7bi.shop</p>
                <p class="text-sm text-slate-500 mt-1">We respond within 24 hours</p>
              </div>
            </div>
          </a>

          <!-- Phone -->
          <a href="tel:+212612345678" class="contact-card stagger-2 animate-stagger group">
            <div class="flex items-start gap-4">
              <div class="flex-shrink-0">
                <div class="flex items-center justify-center h-14 w-14 rounded-xl bg-gradient-to-br from-red-500/20 to-red-600/20 text-red-400 group-hover:from-red-500 group-hover:to-red-600 group-hover:text-white transition-all duration-300 shadow-lg shadow-red-500/10">
<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-9 h-9" viewBox="0 0 640 640"><!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2026 Fonticons, Inc.--><path d="M224.2 89C216.3 70.1 195.7 60.1 176.1 65.4L170.6 66.9C106 84.5 50.8 147.1 66.9 223.3C104 398.3 241.7 536 416.7 573.1C493 589.3 555.5 534 573.1 469.4L574.6 463.9C580 444.2 569.9 423.6 551.1 415.8L453.8 375.3C437.3 368.4 418.2 373.2 406.8 387.1L368.2 434.3C297.9 399.4 241.3 341 208.8 269.3L253 233.3C266.9 222 271.6 202.9 264.8 186.3L224.2 89z"/></svg>                </div>
              </div>
              <div>
                <h3 class="text-lg font-bold text-white group-hover:text-red-400 transition-colors">Phone</h3>
                <p class="text-slate-300 font-medium group-hover:text-red-300 transition-colors">+212 6 25 14 34 81</p>
                <p class="text-sm text-slate-500 mt-1">Fast and direct support</p>
              </div>
            </div>
          </a>

          <!-- WhatsApp -->
          <a href="https://wa.me/212625143481" target="_blank" rel="noopener noreferrer" class="contact-card stagger-3 animate-stagger group">
            <div class="flex items-start gap-4">
              <div class="flex-shrink-0">
                <div class="flex items-center justify-center h-14 w-14 rounded-xl bg-gradient-to-br from-green-500/20 to-green-600/20 text-green-400 group-hover:from-green-500 group-hover:to-green-600 group-hover:text-white transition-all duration-300 shadow-lg shadow-green-500/10">
<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-11 h-11" viewBox="0 0 640 640"><!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2026 Fonticons, Inc.--><path d="M476.9 161.1C435 119.1 379.2 96 319.9 96C197.5 96 97.9 195.6 97.9 318C97.9 357.1 108.1 395.3 127.5 429L96 544L213.7 513.1C246.1 530.8 282.6 540.1 319.8 540.1L319.9 540.1C442.2 540.1 544 440.5 544 318.1C544 258.8 518.8 203.1 476.9 161.1zM319.9 502.7C286.7 502.7 254.2 493.8 225.9 477L219.2 473L149.4 491.3L168 423.2L163.6 416.2C145.1 386.8 135.4 352.9 135.4 318C135.4 216.3 218.2 133.5 320 133.5C369.3 133.5 415.6 152.7 450.4 187.6C485.2 222.5 506.6 268.8 506.5 318.1C506.5 419.9 421.6 502.7 319.9 502.7zM421.1 364.5C415.6 361.7 388.3 348.3 383.2 346.5C378.1 344.6 374.4 343.7 370.7 349.3C367 354.9 356.4 367.3 353.1 371.1C349.9 374.8 346.6 375.3 341.1 372.5C308.5 356.2 287.1 343.4 265.6 306.5C259.9 296.7 271.3 297.4 281.9 276.2C283.7 272.5 282.8 269.3 281.4 266.5C280 263.7 268.9 236.4 264.3 225.3C259.8 214.5 255.2 216 251.8 215.8C248.6 215.6 244.9 215.6 241.2 215.6C237.5 215.6 231.5 217 226.4 222.5C221.3 228.1 207 241.5 207 268.8C207 296.1 226.9 322.5 229.6 326.2C232.4 329.9 268.7 385.9 324.4 410C359.6 425.2 373.4 426.5 391 423.9C401.7 422.3 423.8 410.5 428.4 397.5C433 384.5 433 373.4 431.6 371.1C430.3 368.6 426.6 367.2 421.1 364.5z"/></svg>                </div>
              </div>
              <div>
                <h3 class="text-lg font-bold text-white group-hover:text-green-400 transition-colors">WhatsApp</h3>
                <p class="text-slate-300 font-medium group-hover:text-green-300 transition-colors">+212 6 25 14 34 81</p>
                <p class="text-sm text-slate-500 mt-1">Instant messaging support</p>
              </div>
            </div>
          </a>

          <!-- Discord -->
          <a href="https://discord.gg/KNMHB26RRh" target="_blank" rel="noopener noreferrer" class="contact-card stagger-4 animate-stagger group">
            <div class="flex items-start gap-4">
              <div class="flex-shrink-0">
                <div class="flex items-center justify-center h-14 w-14 rounded-xl bg-gradient-to-br from-indigo-500/20 to-indigo-600/20 text-indigo-400 group-hover:from-indigo-500 group-hover:to-indigo-600 group-hover:text-white transition-all duration-300 shadow-lg shadow-indigo-500/10">
                  <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24"><path d="M20.317 4.37a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.211.375-.445.864-.608 1.25a18.27 18.27 0 00-5.487 0c-.163-.386-.398-.875-.609-1.25a.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 00.031.057 19.9 19.9 0 005.993 3.03.08.08 0 00.087-.027c.461-.63.873-1.295 1.226-1.994a.076.076 0 00-.041-.106 13.107 13.107 0 01-1.872-.892.077.077 0 01-.009-.128c.126-.094.252-.192.372-.291a.074.074 0 01.076-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 01.076.01c.12.099.246.197.372.291a.077.077 0 01-.008.128 12.299 12.299 0 01-1.873.892.076.076 0 00-.041.107c.352.699.764 1.365 1.225 1.994a.076.076 0 00.087.028 19.86 19.86 0 006.002-3.03.077.077 0 00.032-.057c.5-4.786-.838-8.95-3.549-12.676a.061.061 0 00-.031-.03zM8.02 15.33c-1.183 0-2.157-.965-2.157-2.156 0-1.193.964-2.157 2.157-2.157 1.193 0 2.157.964 2.157 2.157 0 1.19-.965 2.156-2.157 2.156zm7.975 0c-1.183 0-2.157-.965-2.157-2.156 0-1.193.964-2.157 2.157-2.157 1.193 0 2.157.964 2.157 2.157 0 1.19-.964 2.156-2.157 2.156"/></svg>
                </div>
              </div>
              <div>
                <h3 class="text-lg font-bold text-white group-hover:text-indigo-400 transition-colors">Discord</h3>
                <p class="text-slate-300 font-medium group-hover:text-indigo-300 transition-colors">Join our community</p>
                <p class="text-sm text-slate-500 mt-1">Fast support and updates</p>
              </div>
            </div>
          </a>
        </div>

        <!-- Working Hours -->
        <div class="bg-gradient-to-br from-slate-800/60 to-slate-900/60 rounded-xl p-6 border border-slate-700/50 backdrop-blur-sm shadow-xl shadow-black/20">
          <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2"><svg class="w-5 h-5 text-red-400" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"/></svg>Business Hours</h3>
          <div class="space-y-3 text-slate-300"></div>
          <div class="mt-4 pt-4 border-t border-slate-700/50"><div class="status-badge"><div class="status-dot"></div>Online Now</div></div>
        </div>
      </div>

      <!-- Right Column: Contact Form -->
      <div class="animate-in-right">
        <div class="bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-xl p-8 border border-slate-700/50 backdrop-blur-sm shadow-2xl shadow-black/30">
          <h2 class="text-2xl font-bold text-white mb-6">Send Us a Message</h2>

          <form id="contactForm" class="space-y-5">
            {% csrf_token %}
            <div>
              <label class="block text-sm font-semibold text-slate-200 mb-2">Full Name *</label>
              <input type="text" name="name" placeholder="John Doe" class="form-input" required />
              <span class="error-message hidden text-red-400 text-sm mt-1 block"></span>
            </div>
            <div>
              <label class="block text-sm font-semibold text-slate-200 mb-2">Email Address *</label>
              <input type="email" name="email" placeholder="your@email.com" class="form-input" required />
              <span class="error-message hidden text-red-400 text-sm mt-1 block"></span>
            </div>
            <div>
              <label class="block text-sm font-semibold text-slate-200 mb-2">Phone Number (Optional)</label>
              <input type="tel" name="phone" placeholder="+212 6 12 34 56 78" class="form-input" />
            </div>
            <div>
              <label class="block text-sm font-semibold text-slate-200 mb-2">Subject *</label>
              <select name="subject" class="form-input" required>
                <option value="" disabled selected>Select a subject</option>
                <option value="support">Technical Support</option>
                <option value="sales">Service Inquiry</option>
                <option value="partnership">Business Partnership</option>
                <option value="complaint">Feedback or Complaint</option>
                <option value="other">Other</option>
              </select>
              <span class="error-message hidden text-red-400 text-sm mt-1 block"></span>
            </div>
            <div>
              <label class="block text-sm font-semibold text-slate-200 mb-2">Message *</label>
              <textarea name="message" placeholder="Tell us more about your inquiry..." rows="5" class="form-input resize-none" required></textarea>
              <span class="error-message hidden text-red-400 text-sm mt-1 block"></span>
            </div>

            <button type="submit" id="submitBtn" class="btn-primary w-full py-3 px-6 text-white font-bold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 text-base">
              <span id="submitText">Send Message</span>
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/></svg>
            </button>

            <div id="successMessage" class="hidden bg-green-500/10 border border-green-500/30 rounded-lg p-4 text-green-400 flex items-center gap-3 animate-in">
              <svg class="w-5 h-5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
              <span>Thank you! We'll be in touch soon.</span>
            </div>

            <div id="errorMessage" class="hidden bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 flex items-center gap-3">
              <svg class="w-5 h-5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/></svg>
              <span id="errorText">Something went wrong. Please try again later.</span>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Social Media Section -->
    <div class="max-w-3xl mx-auto">
      <div class="text-center mb-10 animate-in">
        <h3 class="text-2xl font-bold text-white mb-3">Connect With Us</h3>
        <p class="text-slate-400">Follow us for the latest updates and exclusive offers</p>
      </div>

      <div class="flex justify-center gap-4 flex-wrap">
        <a href="https://x.com/Sa7biofficial" target="_blank" rel="noopener noreferrer" class="social-icon group relative w-14 h-14 rounded-lg bg-slate-800/60 border border-slate-700/50 flex items-center justify-center hover:bg-blue-500/10 hover:border-blue-500/50 transition-all duration-300 hover:scale-110 hover:shadow-lg hover:shadow-blue-500/20 backdrop-blur-sm">
<svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-slate-400 group-hover:text-indigo-400 transition-colors" fill="currentColor" viewBox="0 0 640 640"><!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2026 Fonticons, Inc.--><path d="M453.2 112L523.8 112L369.6 288.2L551 528L409 528L297.7 382.6L170.5 528L99.8 528L264.7 339.5L90.8 112L236.4 112L336.9 244.9L453.2 112zM428.4 485.8L467.5 485.8L215.1 152L173.1 152L428.4 485.8z"/></svg>        </a>
        <a href="https://instagram.com/sa7bi.official" target="_blank" rel="noopener noreferrer" class="social-icon group relative w-14 h-14 rounded-lg bg-slate-800/60 border border-slate-700/50 flex items-center justify-center hover:bg-pink-500/10 hover:border-pink-500/50 transition-all duration-300 hover:scale-110 hover:shadow-lg hover:shadow-pink-500/20 backdrop-blur-sm">
          <svg class="w-6 h-6 text-slate-400 group-hover:text-pink-400 transition-colors" fill="currentColor" viewBox="0 0 24 24"><rect x="2" y="2" width="20" height="20" rx="5" ry="5" fill="none" stroke="currentColor" stroke-width="2"/><path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37z" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="17.5" cy="6.5" r="1.5" fill="currentColor"/></svg>
        </a>
        <a href="https://discord.gg/KNMHB26RRh" target="_blank" rel="noopener noreferrer" class="social-icon group relative w-14 h-14 rounded-lg bg-slate-800/60 border border-slate-700/50 flex items-center justify-center hover:bg-indigo-600/10 hover:border-indigo-600/50 transition-all duration-300 hover:scale-110 hover:shadow-lg hover:shadow-indigo-600/20 backdrop-blur-sm">
          <svg class="w-6 h-6 text-slate-400 group-hover:text-indigo-400 transition-colors" fill="currentColor" viewBox="0 0 24 24"><path d="M20.317 4.37a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.211.375-.445.864-.608 1.25a18.27 18.27 0 00-5.487 0c-.163-.386-.398-.875-.609-1.25a.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 00.031.057 19.9 19.9 0 005.993 3.03.08.08 0 00.087-.027c.461-.63.873-1.295 1.226-1.994a.076.076 0 00-.041-.106 13.107 13.107 0 01-1.872-.892.077.077 0 01-.009-.128c.126-.094.252-.192.372-.291a.074.074 0 01.076-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 01.076.01c.12.099.246.197.372.291a.077.077 0 01-.008.128 12.299 12.299 0 01-1.873.892.076.076 0 00-.041.107c.352.699.764 1.365 1.225 1.994a.076.076 0 00.087.028 19.86 19.86 0 006.002-3.03.077.077 0 00.032-.057c.5-4.786-.838-8.95-3.549-12.676a.061.061 0 00-.031-.03zM8.02 15.33c-1.183 0-2.157-.965-2.157-2.156 0-1.193.964-2.157 2.157-2.157 1.193 0 2.157.964 2.157 2.157 0 1.19-.965 2.156-2.157 2.156zm7.975 0c-1.183 0-2.157-.965-2.157-2.156 0-1.193.964-2.157 2.157-2.157 1.193 0 2.157.964 2.157 2.157 0 1.19-.964 2.156-2.157 2.156"/></svg>
        </a>
      </div>
    </div>
  </div>

  <!-- Footer (page-specific) -->
  
</div>
{% endblock %}

{% block extra_scripts %}
<script>
// Intersection Observer for animations
const observerOptions = { threshold: 0.1, rootMargin: '0px 0px -50px 0px' };
const observer = new IntersectionObserver((entries)=>{ entries.forEach(entry=>{ if(entry.isIntersecting){ entry.target.style.opacity='1'; observer.unobserve(entry.target); } }); }, observerOptions);
document.querySelectorAll('.animate-stagger').forEach((el)=>{ observer.observe(el); });

// Form handling
const contactForm = document.getElementById('contactForm');
if(contactForm){
  const submitBtn = document.getElementById('submitBtn');
  const successMessage = document.getElementById('successMessage');
  const errorMessage = document.getElementById('errorMessage');
  const submitText = document.getElementById('submitText');

  contactForm.addEventListener('submit', async (e)=>{
    e.preventDefault();
    successMessage.classList.add('hidden'); errorMessage.classList.add('hidden');
    if(!contactForm.checkValidity()){ contactForm.classList.add('animate-shake'); setTimeout(()=>contactForm.classList.remove('animate-shake'),400); return; }
    submitBtn.disabled = true; const spinner = document.createElement('div'); spinner.className='spinner'; submitText.textContent='Sending...'; submitBtn.innerHTML=''; submitBtn.appendChild(spinner);
    try{
      const formData = new FormData(contactForm);
      const data = { name: formData.get('name'), email: formData.get('email'), phone: formData.get('phone'), subject: formData.get('subject'), message: formData.get('message') };
      const response = await fetch('/api/contact/submit',{ method:'POST', headers:{ 'Content-Type':'application/json', 'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]')?.value || '' }, body: JSON.stringify(data) });
      const result = await response.json();
      if(result.success){ successMessage.classList.remove('hidden'); successMessage.classList.add('animate-in'); contactForm.reset(); setTimeout(()=>{ successMessage.classList.add('hidden'); },5000); }
      else{ document.getElementById('errorText').textContent = result.error || 'Failed to send message. Please try again.'; errorMessage.classList.remove('hidden'); errorMessage.classList.add('animate-shake'); }
    }catch(err){ document.getElementById('errorText').textContent='Failed to send message. Please try again.'; errorMessage.classList.remove('hidden'); errorMessage.classList.add('animate-shake'); console.error('Form submission error:',err); }
    finally{ submitBtn.disabled=false; submitText.textContent='Send Message'; submitBtn.innerHTML = `<span id="submitText">Send Message</span><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/></svg>`; }
  });

  // Real-time validation
  const inputs = contactForm.querySelectorAll('input, textarea, select');
  inputs.forEach(input=>{
    input.addEventListener('blur', ()=>{ const errorSpan = input.parentElement.querySelector('.error-message'); if(errorSpan && !input.value){ errorSpan.textContent='This field is required'; errorSpan.classList.remove('hidden'); input.classList.add('border-red-500'); } else if(errorSpan){ errorSpan.classList.add('hidden'); input.classList.remove('border-red-500'); } });
    input.addEventListener('focus', ()=>{ const errorSpan = input.parentElement.querySelector('.error-message'); if(errorSpan) errorSpan.classList.add('hidden'); input.classList.remove('border-red-500'); });
  });
  const emailInput = contactForm.querySelector('input[type="email"]');
  if(emailInput){ emailInput.addEventListener('blur', ()=>{ const isValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailInput.value); const errorSpan = emailInput.parentElement.querySelector('.error-message'); if(!isValid && emailInput.value){ errorSpan.textContent='Please enter a valid email address'; errorSpan.classList.remove('hidden'); emailInput.classList.add('border-red-500'); } }); }

  // Stagger delays
  document.querySelectorAll('.animate-stagger').forEach((el,i)=>{ el.style.setProperty('--delay', `${i * 0.1}s`); el.style.opacity='0'; });
  window.addEventListener('load', ()=>{ document.querySelectorAll('[class*="animate-in"]').forEach(el=>{ el.style.opacity='0'; void el.offsetWidth; }); });
}

// Mobile menu toggle (safe - mobile menu lives in base header)
const mobileMenuBtn = document.getElementById('mobileMenuBtn'); const mobileMenu = document.getElementById('mobileMenu'); if(mobileMenuBtn && mobileMenu){ mobileMenuBtn.addEventListener('click', ()=>{ mobileMenu.classList.toggle('hidden'); }); }
</script>
{% endblock %}
