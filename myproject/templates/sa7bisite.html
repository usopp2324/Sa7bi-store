{% extends 'base.html' %}
{% load static %}
{% block title %}Sa7bi - Premium Gaming Services{% endblock %}

{% block content %}
<style>
    /* Custom Scrollbar */
    ::-webkit-scrollbar {
        width: 8px;
    }

    ::-webkit-scrollbar-track {
        background: #12121a;
    }

    ::-webkit-scrollbar-thumb {
        background: linear-gradient(180deg, #ef4444, #000000);
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(180deg, #fca5a5, #000000);
    }
    /* Gradient Text */

    .gradient-text {
        background: linear-gradient(135deg, #ef4444 0%, #000000 50%, #ef4444 100%);
        background-size: 200% auto;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        animation: gradient 3s ease infinite;
    }
    /* Meteor Effect */

    .meteor {
        position: absolute;
        top: 50%;
        left: 50%;
        height: 2px;
        width: 2px;
        border-radius: 9999px;
        background: #64748b;
        box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.1);
        transform: rotate(215deg);
        animation: meteor 5s linear infinite;
    }

    .meteor::before {
        content: '';
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 50px;
        height: 1px;
        background: linear-gradient(to right, #64748b, transparent);
    }
    /* Gradient Dots Background */

    .gradient-dots {
        background-color: #0a0a0f;
        background-image: radial-gradient(circle at 50% 50%, transparent 1.5px, #0a0a0f 0 8px, transparent 8px), radial-gradient(circle at 50% 50%, transparent 1.5px, #0a0a0f 0 8px, transparent 8px), radial-gradient(circle at 50% 50%, #ef4444, transparent 60%), radial-gradient(circle at 50% 50%, #000000, transparent 60%), radial-gradient(circle at 50% 50%, #ef4444, transparent 60%);
        background-size: 10px 17.32px, 10px 17.32px, 200% 200%, 200% 200%, 200% 200%;
        background-position: 0px 0px, 5px 8.66px, 0% 0%, 100% 100%, 50% 50%;
        animation: moveDots 20s linear infinite, hueRotate 6s linear infinite;
    }

    .home-dots {
        position: relative;
        overflow: hidden;
        --mx: 50%;
        --my: 30%;
        background-color: #06070c;
        background-attachment: fixed;
        background-position: center top;
        background-repeat: no-repeat;
        background-size: cover;
        background-image:
            radial-gradient(900px 520px at 18% 8%, rgba(239, 68, 68, 0.2), transparent 60%),
            radial-gradient(820px 560px at 85% 10%, rgba(239, 68, 68, 0.14), transparent 62%),
            radial-gradient(620px 420px at 50% 100%, rgba(0, 0, 0, 0.85), transparent 70%),
            linear-gradient(180deg, rgba(6, 6, 9, 0.96), rgba(8, 8, 12, 0.99));
    }

    .home-dots::before,
    .home-dots::after {
        content: '';
        position: absolute;
        inset: 0;
        pointer-events: none;
        z-index: 0;
    }

    .home-dots::before {
        opacity: 0.35;
        background-image:
            linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px),
            linear-gradient(180deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px),
            radial-gradient(circle at 50% 50%, rgba(239, 68, 68, 0.2) 1px, transparent 1.6px);
        background-size: 80px 80px, 80px 80px, 42px 42px;
        background-position: 0 0, 0 0, 10px 12px;
        animation: gridDrift 18s linear infinite;
    }

    .home-dots::after {
        opacity: 0.5;
        background-image:
            radial-gradient(900px 360px at 50% -10%, rgba(239, 68, 68, 0.22), transparent 60%),
            linear-gradient(120deg, rgba(239, 68, 68, 0.12), transparent 55%),
            linear-gradient(300deg, rgba(239, 68, 68, 0.08), transparent 60%);
        mix-blend-mode: screen;
        filter: blur(10px) saturate(120%);
        animation: glowPulse 12s ease-in-out infinite;
    }

    @keyframes gridDrift {
        0% {
            background-position: 0 0, 0 0, 10px 12px;
        }
        50% {
            background-position: 30px 20px, -20px 30px, 24px 36px;
        }
        100% {
            background-position: 0 0, 0 0, 10px 12px;
        }
    }

    @keyframes glowPulse {
        0% {
            opacity: 0.4;
            transform: translateY(-2%) scale(1);
        }
        50% {
            opacity: 0.65;
            transform: translateY(2%) scale(1.03);
        }
        100% {
            opacity: 0.4;
            transform: translateY(-2%) scale(1);
        }
    }

    .home-dots > * {
        position: relative;
        z-index: 1;
    }

    .cursor-glow {
        position: absolute;
        inset: 0;
        background: radial-gradient(100px circle at var(--mx) var(--my), rgba(239, 68, 68, 0.38), transparent 60%);
        opacity: 0.75;
        mix-blend-mode: screen;
        filter: blur(6px) saturate(140%);
        pointer-events: none;
        z-index: 0;
        transition: opacity 0.25s ease;
    }

    .home-dots:hover .cursor-glow {
        opacity: 1;
    }

    .parallax-layers {
        position: absolute;
        inset: -12%;
        pointer-events: none;
        z-index: 0;
    }

    .parallax-layer {
        position: absolute;
        inset: 0;
        will-change: transform;
        transform: translate3d(0, 0, 0);
    }

    .parallax-layer.layer-1 {
        background:
            radial-gradient(600px 300px at 15% 10%, rgba(239, 68, 68, 0.35), transparent 70%),
            radial-gradient(450px 320px at 85% 15%, rgba(255, 120, 120, 0.22), transparent 70%);
        filter: blur(6px);
        opacity: 0.75;
    }

    .parallax-layer.layer-2 {
        background:
            radial-gradient(420px 260px at 30% 70%, rgba(239, 68, 68, 0.2), transparent 70%),
            linear-gradient(120deg, rgba(239, 68, 68, 0.12), transparent 55%);
        filter: blur(10px);
        opacity: 0.55;
    }

    .parallax-layer.layer-3 {
        background:
            radial-gradient(380px 220px at 70% 80%, rgba(255, 120, 120, 0.22), transparent 70%),
            linear-gradient(300deg, rgba(239, 68, 68, 0.12), transparent 60%);
        filter: blur(14px);
        opacity: 0.45;
    }

    .parallax-target {
        will-change: transform;
        transform: translate3d(0, 0, 0);
    }

    .home-dots .bg-dark-900,
    .home-dots .bg-dark-800,
    .home-dots .bg-dark-700 {
        background-color: transparent !important;
    }

    .section-divider {
        display: block;
        height: 1px;
        width: 70%;
        background: rgba(5, 250, 86, 0.55);
        box-shadow: 0 0 10px rgba(58, 150, 74, 0.35);
        margin: 36px 0;
        position: relative;
        z-index: 2;
    }

    @keyframes moveDots {
        0% {    
            background-position: 0px 0px, 5px 8.66px, 0% 0%, 100% 100%, 50% 50%;
        }
        100% {
            background-position: 0px 0px, 5px 8.66px, 800% 400%, 1000% -400%, -1200% -600%;
        }
    }

    @keyframes hueRotate {
        0% {
            filter: hue-rotate(0deg);
        }
        100% {
            filter: hue-rotate(360deg);
        }
    }

    @keyframes auroraSweep {
        0% {
            transform: translateY(-6%) scale(1);
        }
        50% {
            transform: translateY(4%) scale(1.03);
        }
        100% {
            transform: translateY(-6%) scale(1);
        }
    }

    @keyframes meshDrift {
        0% {
            transform: translate3d(-2%, -1%, 0);
        }
        50% {
            transform: translate3d(1.5%, 1%, 0);
        }
        100% {
            transform: translate3d(-2%, -1%, 0);
        }
    }

    @keyframes auroraFlow {
        0% {
            transform: translateY(-8%) scale(1);
        }
        50% {
            transform: translateY(6%) scale(1.04);
        }
        100% {
            transform: translateY(-8%) scale(1);
        }
    }

    @keyframes orbitSpin {
        0% {
            transform: rotate(0deg) scale(1.02);
        }
        100% {
            transform: rotate(360deg) scale(1.02);
        }
    }
    /* Glass Effect */

    .glass {
        background: rgba(18, 18, 26, 0.8);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(239, 68, 68, 0.2);
    }
    /* Card Hover Effect */

    .card-hover {
        transition: all 0.3s ease;
    }

    .card-hover:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 40px rgba(239, 68, 68, 0.3);
    }

    .tilt-card {
        position: relative;
        transform-style: preserve-3d;
        transition: transform 0.15s ease, box-shadow 0.25s ease;
    }

    .tilt-card::after {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: inherit;
        background: radial-gradient(160px circle at var(--tilt-x, 50%) var(--tilt-y, 50%), rgba(255, 255, 255, 0.16), transparent 60%);
        opacity: 0;
        mix-blend-mode: screen;
        pointer-events: none;
        transition: opacity 0.2s ease;
    }

    .tilt-card:hover::after {
        opacity: 1;
    }
    /* Button Glow */

    .btn-glow {
        position: relative;
        overflow: hidden;
    }

    .btn-glow::before {
        content: '';
        position: absolute;
        inset: -2px;
        background: linear-gradient(45deg, #ef4444, #000000, #ef4444);
        border-radius: inherit;
        z-index: -1;
        animation: gradient 3s ease infinite;
        background-size: 200% 200%;
    }
    /* Page Sections - Hide by default */

    .page-section {
        display: none;
    }

    .page-section.active {
        display: block;
        animation: fadeIn 0.3s ease-out;
    }
    /* Rank Card */

    .rank-card {
        transition: all 0.2s ease;
    }

    .rank-card:hover {
        transform: scale(1.05);
    }

    .rank-card.selected {
        ring: 2px;
        ring-color: #ef4444;
        background: rgba(239, 68, 68, 0.2);
    }
    /* Input Focus */

    input:focus,
    select:focus {
        outline: none;
        border-color: #8b5cf6;
        box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
    }
    /* Checkbox Custom */

    .custom-checkbox {
        appearance: none;
        width: 20px;
        height: 20px;
        border: 2px solid #4b5563;
        border-radius: 4px;
        cursor: pointer;
        position: relative;
    }

    .custom-checkbox:checked {
        background: linear-gradient(135deg, #8b5cf6, #ec4899);
        border-color: transparent;
    }

    .custom-checkbox:checked::after {
        content: '✓';
        position: absolute;
        color: white;
        font-size: 14px;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }
    /* Radio Custom */

    .custom-radio {
        appearance: none;
        width: 20px;
        height: 20px;
        border: 2px solid #4b5563;
        border-radius: 50%;
        cursor: pointer;
        position: relative;
    }

    .custom-radio:checked {
        border-color: #8b5cf6;
    }

    .custom-radio:checked::after {
        content: '';
        position: absolute;
        width: 10px;
        height: 10px;
        background: linear-gradient(135deg, #8b5cf6, #ec4899);
        border-radius: 50%;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    /* Control Panels (Hotkeys / Precision / Features) */
    .control-panel {
        background: linear-gradient(180deg, #1b1b22 0%, #14141a 100%);
        border-radius: 14px;
        border: 1px solid rgba(239, 68, 68, 0.18);
        box-shadow: 0 12px 28px rgba(0, 0, 0, 0.45), inset 0 1px 0 rgba(255, 255, 255, 0.03);
        transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;
        animation: panel-rise 0.6s ease both;
    }

    .control-panel:hover {
        transform: translateY(-6px);
        border-color: rgba(239, 68, 68, 0.45);
        box-shadow: 0 18px 36px rgba(239, 68, 68, 0.15), 0 12px 28px rgba(0, 0, 0, 0.5);
    }

    .control-panel:nth-child(2) { animation-delay: 0.08s; }
    .control-panel:nth-child(3) { animation-delay: 0.16s; }

    @keyframes panel-rise {
        0% { opacity: 0; transform: translateY(16px); }
        100% { opacity: 1; transform: translateY(0); }
    }

    .control-title {
        color: #ef4444;
        font-weight: 700;
        font-size: 15px;
        margin-bottom: 16px;
    }

    .hotkey-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 10px 0;
        border-bottom: 1px solid #3a3a3f;
        color: #d1d5db;
        font-size: 13px;
    }

    .hotkey-row:last-child {
        border-bottom: none;
        padding-bottom: 0;
    }

    .hotkey-btn {
        background: #1f5ea8;
        color: #e5f2ff;
        font-weight: 600;
        font-size: 12px;
        padding: 6px 16px;
        border-radius: 7px;
        border: 1px solid #1a4f8d;
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.08);
        letter-spacing: 0.3px;
    }

    .hotkey-btn:hover {
        background: #2576ba;
    }

    .slider-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        color: #e5e7eb;
        font-size: 12px;
        margin-bottom: 8px;
    }

    .slider-value {
        color: #9ca3af;
        font-size: 12px;
        min-width: 42px;
        text-align: right;
    }

    .control-range {
        -webkit-appearance: none;
        appearance: none;
        width: 100%;
        height: 4px;
        border-radius: 9999px;
        background: #ef4444;
        outline: none;
    }

    .control-range::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 14px;
        height: 14px;
        border-radius: 50%;
        background: #ef4444;
        border: 2px solid #1b1b1f;
        box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.2);
        cursor: pointer;
    }

    .control-range::-moz-range-thumb {
        width: 14px;
        height: 14px;
        border-radius: 50%;
        background: #ef4444;
        border: 2px solid #1b1b1f;
        box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.2);
        cursor: pointer;
    }

    /* Settings UI (Sa7bi) */
    .settings-shell {
        background: linear-gradient(180deg, rgba(16, 16, 22, 0.95) 0%, rgba(12, 12, 18, 0.95) 100%);
        border: 1px solid rgba(239, 68, 68, 0.25);
        border-radius: 18px;
        padding: 24px;
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.55);
    }

    .settings-header {
        color: #ef4444;
        font-weight: 700;
        font-size: 14px;
        letter-spacing: 0.4px;
        margin-bottom: 18px;
    }

    .settings-card {
        background: rgba(19, 19, 26, 0.92);
        border: 1px solid rgba(239, 68, 68, 0.25);
        border-radius: 14px;
        padding: 18px;
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.02);
    }

    .glass-panel {
        background: rgba(20, 20, 28, 0.65);
        border: 1px solid rgba(239, 68, 68, 0.35);
        border-radius: 18px;
        padding: 22px;
        box-shadow: 0 18px 40px rgba(0, 0, 0, 0.55);
        backdrop-filter: blur(12px);
    }

    .trigger-title {
        font-size: 30px;
        font-weight: 800;
        color: #ef4444;
        text-align: center;
        letter-spacing: 2px;
        margin-bottom: 6px;
    }

    .trigger-subtitle {
        text-align: center;
        color: #e5e7eb;
        font-size: 13px;
        margin-bottom: 16px;
    }

    .trigger-buttons {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 12px;
        margin-bottom: 16px;
    }

    .trigger-btn {
        padding: 10px 0;
        border-radius: 12px;
        font-weight: 700;
        color: #fff;
        border: none;
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.08);
    }

    .trigger-btn--yellow { background: #facc15; color: #1f2937; }
    .trigger-btn--purple { background: #9333ea; }
    .trigger-btn--red { background: #ef4444; }

    .trigger-status {
        border: 1px solid rgba(239, 68, 68, 0.45);
        border-radius: 12px;
        padding: 10px 12px;
        text-align: center;
        color: #fca5a5;
        font-size: 12px;
        margin-bottom: 14px;
        background: rgba(15, 15, 22, 0.65);
    }

    .trigger-advanced {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        padding: 10px 12px;
        border-radius: 12px;
        border: 1px solid rgba(239, 68, 68, 0.45);
        background: rgba(15, 15, 22, 0.65);
        color: #e5e7eb;
        font-size: 12px;
        font-weight: 600;
    }

    .settings-title {
        color: #ef4444;
        font-size: 13px;
        font-weight: 700;
        margin-bottom: 12px;
    }

    .engine-card {
        margin-bottom: 18px;
    }

    .engine-row {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 10px;
    }

    .engine-pill {
        background: #2a2a33;
        color: #cbd5f5;
        border: 1px solid rgba(255, 255, 255, 0.06);
        padding: 10px 12px;
        border-radius: 10px;
        font-weight: 600;
        font-size: 12px;
    }

    .engine-pill--active {
        background: linear-gradient(90deg, #ef4444, #f87171);
        color: #fff;
        border: 1px solid rgba(239, 68, 68, 0.6);
        box-shadow: 0 8px 20px rgba(239, 68, 68, 0.35);
    }

    .settings-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 18px;
    }

    @media (max-width: 1024px) {
        .settings-grid {
            grid-template-columns: 1fr;
        }
    }

    .hotkey-list {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .hotkey-item {
        display: flex;
        align-items: center;
        justify-content: space-between;
        color: #e5e7eb;
        font-size: 12px;
        padding-bottom: 8px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.06);
    }

    .hotkey-item:last-child {
        border-bottom: none;
        padding-bottom: 0;
    }

    .hotkey-pill {
        background: #3a3a43;
        color: #e5e7eb;
        border: 1px solid rgba(255, 255, 255, 0.08);
        padding: 6px 14px;
        border-radius: 8px;
        font-size: 11px;
        font-weight: 600;
        min-width: 72px;
        text-align: center;
    }

    .settings-actions {
        display: flex;
        gap: 12px;
        justify-content: flex-start;
        margin-top: 18px;
    }

    .action-btn {
        padding: 12px 20px;
        border-radius: 10px;
        font-weight: 700;
        font-size: 12px;
        letter-spacing: 0.4px;
        border: 1px solid transparent;
    }

    .action-btn--primary {
        background: linear-gradient(90deg, #ef4444, #f87171);
        color: #fff;
        box-shadow: 0 12px 24px rgba(239, 68, 68, 0.35);
    }

    .action-btn--ghost {
        background: #2a2a33;
        color: #e5e7eb;
        border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .toggle-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 10px 0;
        color: #d1d5db;
        font-size: 13px;
        border-bottom: 1px solid #3a3a3f;
    }

    .toggle-row:last-child {
        border-bottom: none;
        padding-bottom: 0;
    }

    .toggle-switch {
        position: relative;
        display: inline-block;
        width: 38px;
        height: 20px;
    }

    .toggle-switch input {
        opacity: 0;
        width: 0;
        height: 0;
    }

    .toggle-slider {
        position: absolute;
        cursor: pointer;
        inset: 0;
        background: #4b5563;
        border-radius: 9999px;
        transition: all 0.2s ease;
    }

    .toggle-slider::before {
        content: '';
        position: absolute;
        height: 14px;
        width: 14px;
        left: 3px;
        top: 3px;
        background: #e5e7eb;
        border-radius: 9999px;
        transition: all 0.2s ease;
    }

    .toggle-switch input:checked + .toggle-slider {
        background: #ef4444;
    }

    .toggle-switch input:checked + .toggle-slider::before {
        transform: translateX(18px);
        background: #e5f2ff;
    }

    /* Testimonials (marquee) */
    .reviews-stage {
        position: relative;
        overflow: hidden;
        border-radius: 18px;
        background: transparent;
        border: none;
        padding: 24px 0 6px;
    }

    .reviews-stage::before {
        content: none;
    }

    .reviews-title {
        color: #ffffff;
        text-shadow: 0 6px 20px rgba(239, 68, 68, 0.25);
    }

    .reviews-subtitle {
        color: #9ca3af;
    }

    .review-marquee {
        overflow: hidden;
        position: relative;
        z-index: 1;
    }

    .review-track {
        display: flex;
        gap: 18px;
        width: max-content;
        animation: review-scroll 28s linear infinite;
        will-change: transform;
    }

    .review-group {
        display: flex;
        gap: 18px;
    }

    @keyframes review-scroll {
        0% { transform: translateX(0); }
        100% { transform: translateX(-50%); }
    }

    .review-marquee:hover .review-track {
        animation-play-state: paused;
    }

    .review-card {
        background: radial-gradient(120% 120% at 30% 0%, rgba(239, 68, 68, 0.12), transparent 55%),
                    #0f0f14;
        border: 1px solid rgba(239, 68, 68, 0.35);
        border-radius: 16px;
        padding: 18px 20px 20px;
        box-shadow: 0 12px 26px rgba(0, 0, 0, 0.4);
        transition: transform 0.25s ease, box-shadow 0.25s ease;
        min-width: 359px;
        max-width: 359px;
        min-height: 170px;
        max-height: 170px;
        
    }

    .review-card:hover {
        transform: translateY(-8px) scale(1.01);
        box-shadow: 0 16px 30px rgba(239, 68, 68, 0.2), 0 12px 26px rgba(0, 0, 0, 0.45);
    }

    .review-avatar {
        width: 34px;
        height: 34px;
        border-radius: 50%;
        background: rgba(239, 68, 68, 0.2);
        border: 1px solid rgba(239, 68, 68, 0.45);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        color: #fca5a5;
    }

    .review-stars {
        color: #ef4444;
        letter-spacing: 2px;
        font-size: 14px;
    }

    @media (max-width: 640px) {
        .reviews-stage {
            padding: 44px 18px 52px;
        }

        .review-track {
            animation-duration: 18s;
        }
    }

    @media (prefers-reduced-motion: reduce) {
        .review-track {
            animation: none;
            transform: none;
        }
    }

    /* Entrance and Scroll Animations */
    .hero-reveal {
        opacity: 0;
        transform: translateY(18px);
        animation: heroIn 0.7s ease forwards;
    }

    @keyframes heroIn {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .reveal {
        opacity: 0;
        transform: translate3d(var(--reveal-x, 0), var(--reveal-y, 24px), 0) scale(var(--reveal-scale, 0.98));
        transition: opacity 0.6s ease, transform 0.6s ease;
        will-change: opacity, transform;
    }

    .reveal--left {
        --reveal-x: -24px;
        --reveal-y: 0;
        --reveal-scale: 1;
    }

    .reveal--right {
        --reveal-x: 24px;
        --reveal-y: 0;
        --reveal-scale: 1;
    }

    .reveal--up {
        --reveal-y: 24px;
        --reveal-scale: 1;
    }

    .reveal--scale {
        --reveal-scale: 0.98;
    }

    .reveal.is-visible {
        opacity: 1;
        transform: translate3d(0, 0, 0) scale(1);
    }

    @media (prefers-reduced-motion: reduce) {
        .hero-reveal,
        .reveal {
            animation: none;
            transition: none;
            opacity: 1;
            transform: none;
        }
    }

    .section-divider {
        display: block;
        height: 1px;
        width: 70%;
        background: rgba(255, 255, 255, 0.55);
        opacity: 1;
        left: 15%;
        box-shadow: 0 0 14px rgba(255, 255, 255, 0.65);
        margin: 48px 0;
        position: relative;
        z-index: 5;
    }

    /* Glass theme overrides */
    .settings-shell,
    .settings-card,
    .glass-panel,
    .engine-pill:not(.engine-pill--active),
    .hotkey-pill,
    .action-btn--ghost,
    .trigger-status,
    .trigger-advanced,
    .review-card {
        background: rgba(18, 18, 26, 0.6) !important;
        border: 1px solid rgba(239, 68, 68, 0.25) !important;
        backdrop-filter: blur(12px);
        box-shadow: 0 16px 34px rgba(0, 0, 0, 0.45);
    }

    .reviews-stage {
        background: transparent !important;
        border: none !important;
        box-shadow: none !important;
        backdrop-filter: none !important;
    }
</style>

<!-- ==================== LANDING PAGE ==================== -->
<section id="landing-page" class="page-section active home-dots">
    <div class="cursor-glow" aria-hidden="true"></div>
    <div class="parallax-layers" aria-hidden="true">
        <span class="parallax-layer layer-1" data-depth="0.06"></span>
        <span class="parallax-layer layer-2" data-depth="0.1"></span>
        <span class="parallax-layer layer-3" data-depth="0.14"></span>
    </div>

            <!-- Hero Section -->
            <div class="relative min-h-screen flex items-center justify-center overflow-hidden">
                <!-- Hero Content -->
                <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center pt-20 parallax-target" data-parallax="0.03">
                    <!-- Badge -->
                    <div class="inline-flex items-center px-4 py-2 rounded-full bg-dark-700/80 border border-primary/30 mb-8 animate-slide-up hero-reveal">
                        <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse mr-2"></span>
                        <span class="text-sm text-gray-300">Trusted by 2000+ Gamers Worldwide</span>
                    </div>

                    <!-- Main Heading -->
                    <h1 class="text-4xl sm:text-5xl md:text-7xl font-black mb-6 animate-slide-up hero-reveal" style="animation-delay: 0.1s">
                        Level Up Your Game<br>
                        <span class="gradient-text">With Sa7bi</span>
                    </h1>

                    <!-- Subtitle -->
                    <p class="text-lg sm:text-xl text-gray-400 max-w-2xl mx-auto mb-10 animate-slide-up hero-reveal" style="animation-delay: 0.2s">
                        Premium gaming services including rank boosting, professional coaching, and account services for all your favorite games.
                    </p>

                    <!-- CTA Buttons -->
                    <div class="flex flex-col sm:flex-row items-center justify-center gap-4 mb-16 animate-slide-up hero-reveal" style="animation-delay: 0.3s">
                        <a href="{% url 'shop:shop_list' %}" class="w-full sm:w-auto px-8 py-4 bg-gradient-to-r from-primary to-secondary rounded-xl font-bold text-lg animate-pulse-glow hover:scale-105 transition-transform inline-block text-center">
                            Browse Services
                            <svg class="w-5 h-5 inline-block ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
                            </svg>
                        </a>
                        <a href="/contact" class="w-full sm:w-auto px-8 py-4 bg-dark-700 border border-primary/30 rounded-xl font-bold text-lg hover:bg-dark-600 transition-colors">
                            <svg class="w-5 h-5 inline-block mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            Learn More
                        </a>
                    </div>

                    <!-- Stats -->
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 max-w-4xl mx-auto animate-slide-up hero-reveal" style="animation-delay: 0.4s">
                        <div class="text-center p-4">
                            <div class="text-3xl sm:text-4xl font-black gradient-text">130+</div>
                            <div class="text-gray-400 text-sm">Happy Customers</div>
                        </div>
                        <div class="text-center p-4">
                            <div class="text-3xl sm:text-4xl font-black gradient-text">99%</div>
                            <div class="text-gray-400 text-sm">Satisfaction Rate</div>
                        </div>
                        <div class="text-center p-4">
                            <div class="text-3xl sm:text-4xl font-black gradient-text">24/7</div>
                            <div class="text-gray-400 text-sm">Live Support</div>
                        </div>
                        <div class="text-center p-4">
                            <div class="text-3xl sm:text-4xl font-black gradient-text">10+</div>
                            <div class="text-gray-400 text-sm">Pro Boosters</div>
                        </div>
                    </div>
                </div>

                <!-- Scroll Indicator -->
                <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
                    <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/>
                    </svg>
                </div>
            </div>

            <!-- Features Section -->
            <section id="features" class="py-20 bg-dark-800 relative overflow-hidden" data-reveal="up">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <!-- Section Header -->
                    <div class="text-center mb-16" data-reveal="up">
                        <h2 class="text-3xl sm:text-4xl font-bold mb-4">
                            Why Choose <span class="gradient-text">Sa7bi?</span>
                        </h2>
                        <p class="text-gray-400 max-w-2xl mx-auto">
                            We provide the best gaming services with professional players and guaranteed results
                        </p>
                    </div>

                    <!-- Features Grid -->
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" data-reveal-stagger>
                        <!-- Feature 1 -->
                        <div class="relative group card-hover glass rounded-2xl p-8 overflow-hidden" data-reveal="scale" data-reveal-item>
                            <!-- Meteor Effect -->
                            <div class="absolute inset-0 overflow-hidden opacity-0 group-hover:opacity-100 transition-opacity">
                                <span class="meteor" style="left: -100px; animation-delay: 0.2s;"></span>
                                <span class="meteor" style="left: 100px; animation-delay: 0.8s;"></span>
                                <span class="meteor" style="left: 200px; animation-delay: 1.4s;"></span>
                            </div>
                            <div class="relative z-10">
                                <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center mb-6">
                                    <svg class="w-7 h-7 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                                    </svg>
                                </div>
                                <h3 class="text-xl font-bold mb-3">100% Secure</h3>
                                <p class="text-gray-400">Your account safety is our priority. We use VPN protection and offline mode.</p>
                            </div>
                        </div>

                        <!-- Feature 2 -->
                        <div class="relative group card-hover glass rounded-2xl p-8 overflow-hidden" data-reveal="scale" data-reveal-item>
                            <div class="absolute inset-0 overflow-hidden opacity-0 group-hover:opacity-100 transition-opacity">
                                <span class="meteor" style="left: 0px; animation-delay: 0.4s;"></span>
                                <span class="meteor" style="left: 150px; animation-delay: 1.0s;"></span>
                            </div>
                            <div class="relative z-10">
                                <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center mb-6">
                                    <svg class="w-7 h-7 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                                    </svg>
                                </div>
                                <h3 class="text-xl font-bold mb-3">Fast Delivery</h3>
                                <p class="text-gray-400">Get your desired rank quickly. Our boosters work efficiently 24/7.</p>
                            </div>
                        </div>

                        <!-- Feature 3 -->
                        <div class="relative group card-hover glass rounded-2xl p-8 overflow-hidden" data-reveal="scale" data-reveal-item>
                            <div class="absolute inset-0 overflow-hidden opacity-0 group-hover:opacity-100 transition-opacity">
                                <span class="meteor" style="left: 50px; animation-delay: 0.6s;"></span>
                                <span class="meteor" style="left: -50px; animation-delay: 1.2s;"></span>
                            </div>
                            <div class="relative z-10">
                                <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center mb-6">
                                    <svg class="w-7 h-7 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                                    </svg>
                                </div>
                                <h3 class="text-xl font-bold mb-3">Pro Players</h3>
                                <p class="text-gray-400">Our team consists of verified professional and top-tier players.</p>
                            </div>
                        </div>

                        <!-- Feature 4 -->
                        <div class="relative group card-hover glass rounded-2xl p-8 overflow-hidden" data-reveal="scale" data-reveal-item>
                            <div class="absolute inset-0 overflow-hidden opacity-0 group-hover:opacity-100 transition-opacity">
                                <span class="meteor" style="left: -100px; animation-delay: 0.3s;"></span>
                                <span class="meteor" style="left: 100px; animation-delay: 0.9s;"></span>
                            </div>
                            <div class="relative z-10">
                                <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center mb-6">
                                    <svg class="w-7 h-7 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                    </svg>
                                </div>
                                <h3 class="text-xl font-bold mb-3">24/7 Support</h3>
                                <p class="text-gray-400">Our support team is available around the clock via live chat and Discord.</p>
                            </div>
                        </div>

                        <!-- Feature 5 -->
                        <div class="relative group card-hover glass rounded-2xl p-8 overflow-hidden" data-reveal="scale" data-reveal-item>
                            <div class="absolute inset-0 overflow-hidden opacity-0 group-hover:opacity-100 transition-opacity">
                                <span class="meteor" style="left: 0px; animation-delay: 0.5s;"></span>
                                <span class="meteor" style="left: 200px; animation-delay: 1.1s;"></span>
                            </div>
                            <div class="relative z-10">
                                <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center mb-6">
                                    <svg class="w-7 h-7 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                                    </svg>
                                </div>
                                <h3 class="text-xl font-bold mb-3">Money Back Guarantee</h3>
                                <p class="text-gray-400">Not satisfied? Get a full refund within 24 hours, no questions asked.</p>
                            </div>
                        </div>

                        <!-- Feature 6 -->
                        <div class="relative group card-hover glass rounded-2xl p-8 overflow-hidden" data-reveal="scale" data-reveal-item>
                            <div class="absolute inset-0 overflow-hidden opacity-0 group-hover:opacity-100 transition-opacity">
                                <span class="meteor" style="left: 50px; animation-delay: 0.7s;"></span>
                                <span class="meteor" style="left: -50px; animation-delay: 1.3s;"></span>
                            </div>
                            <div class="relative z-10">
                                <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center mb-6">
                                    <svg class="w-7 h-7 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                                    </svg>
                                </div>
                                <h3 class="text-xl font-bold mb-3">Live Streaming</h3>
                                <p class="text-gray-400">Watch your boost progress in real-time with our streaming option.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <div class="section-divider"></div>

            <!-- Controls Section (matches provided UI) -->
            <section id="controls" class="py-20 bg-dark-900" data-reveal="up">
                                <div class="max-w-6xl mx-auto px-10 py-10 sm:px-10 lg:px-10">
                 <div class="glass-panel">
                            <div class="trigger-title">SA7BI</div>
                            <div class="trigger-subtitle">Enemy Highlight Color</div>
                            <div class="trigger-buttons">
                                <button class="trigger-btn trigger-btn--yellow">YELLOW</button>
                                <button class="trigger-btn trigger-btn--purple">PURPLE</button>
                                <button class="trigger-btn trigger-btn--red">RED</button>
                            </div>
                            <div class="trigger-status">Version: v1.0 • Status: Ready</div>
                            <div class="trigger-advanced">⚙ ADVANCED SETTINGS</div>
                        </div>
                                </div>
                <div class="max-w-6xl mx-auto px-10 sm:px-10 lg:px-10">
                    <div class="settings-shell">
                        <div class="settings-header">Sa7bi - Settings</div>

                        <div class="settings-card engine-card">
                            <div class="settings-title">Engine Version</div>
                            <div class="engine-row">
                                <button class="engine-pill engine-pill--active">V1.0 - Detroit</button>
                                <button class="engine-pill">V2.0 - Sa7bi</button>
                            </div>
                        </div>

                       

                        <div class="settings-grid">
                            <div class="settings-card">
                                <div class="settings-title">Hotkeys</div>
                                <div class="hotkey-list">
                                    <div class="hotkey-item">
                                        <span>Crouch Key</span>
                                        <button class="hotkey-pill">SHIFT</button>
                                    </div>
                                    <div class="hotkey-item">
                                        <span>Hold Trigger 1</span>
                                        <button class="hotkey-pill">XBUTTON1</button>
                                    </div>
                                    <div class="hotkey-item">
                                        <span>Hold Trigger 2</span>
                                        <button class="hotkey-pill">XBUTTON2</button>
                                    </div>
                                    <div class="hotkey-item">
                                        <span>Toggle Hold Mode</span>
                                        <button class="hotkey-pill">F1</button>
                                    </div>
                                    <div class="hotkey-item">
                                        <span>Spray Mode</span>
                                        <button class="hotkey-pill">F2</button>
                                    </div>
                                    <div class="hotkey-item">
                                        <span>Crouch Mode</span>
                                        <button class="hotkey-pill">F3</button>
                                    </div>
                                    <div class="hotkey-item">
                                        <span>Exit</span>
                                        <button class="hotkey-pill">END</button>
                                    </div>
                                </div>
                            </div>

                            <div class="settings-card">
                                <div class="settings-title">Precision Settings</div>
                                <div class="mb-5">
                                    <div class="slider-header">
                                        <span>Box Size: <span data-range-label="box">5</span></span>
                                        <span class="slider-value" data-range-value="box">5</span>
                                    </div>
                                    <input class="control-range" type="range" min="1" max="15" value="5" data-range="box">
                                </div>
                                <div class="mb-5">
                                    <div class="slider-header">
                                        <span>Sensitivity: <span data-range-label="sens">95</span></span>
                                        <span class="slider-value" data-range-value="sens">95</span>
                                    </div>
                                    <input class="control-range" type="range" min="1" max="100" value="95" data-range="sens">
                                </div>
                                <div class="mb-5">
                                    <div class="slider-header">
                                        <span>Min Delay: <span data-range-label="minDelay">3</span> ms</span>
                                        <span class="slider-value" data-range-value="minDelay">3 ms</span>
                                    </div>
                                    <input class="control-range" type="range" min="1" max="50" value="3" data-range="minDelay">
                                </div>
                                <div class="mb-5">
                                    <div class="slider-header">
                                        <span>Max Delay: <span data-range-label="maxDelay">3</span> ms</span>
                                        <span class="slider-value" data-range-value="maxDelay">3 ms</span>
                                    </div>
                                    <input class="control-range" type="range" min="1" max="50" value="3" data-range="maxDelay">
                                </div>
                                <div>
                                    <div class="slider-header">
                                        <span>Extra Sleep: <span data-range-label="extraSleep">200</span> ms</span>
                                        <span class="slider-value" data-range-value="extraSleep">200 ms</span>
                                    </div>
                                    <input class="control-range" type="range" min="0" max="400" value="200" data-range="extraSleep">
                                </div>
                            </div>
                        </div>

                        <div class="settings-actions">
                            <button class="action-btn action-btn--primary">✓ APPLY SETTINGS</button>
                            <button class="action-btn action-btn--ghost">RESET</button>
                        </div>
                    </div>
                </div>
            </section>

            <div class="section-divider"></div>

            <!-- Games Section -->
            

            <!-- Testimonials Section (dynamic, styled) -->
            <section id="testimonials" class="py-20 transparent" data-reveal="up">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 ">
                    <div class="reviews-stage" data-reveal="up">
                        <div class="text-center mb-8">
                            <h2 class="text-2xl md:text-3xl font-semibold reviews-title">What our Customers Say</h2>
                            <p class="text-sm reviews-subtitle mt-2">Real feedback from our community.</p>
                        </div>

                        {% if reviews %}
                        <div class="review-marquee" data-reveal-stagger>
                            <div class="review-track">
                                <div class="review-group">
                                    {% for review in reviews|slice:":5" %}
                                    <article class="review-card" data-reveal="scale" data-reveal-item>
                                        <div class="flex items-center gap-3">
                                            <div class="review-avatar">
                                                {{ review.user.first_name|default:review.user.username|slice:":1" }}
                                            </div>
                                            <div>
                                                <div class="text-sm font-semibold text-gray-100">{{ review.user.first_name|default:review.user.username }}</div>
                                                <div class="text-xs text-gray-500">{{ review.created_at|date:"n/j/Y" }}</div>
                                            </div>
                                        </div>
                                        <div class="review-stars mt-3">
                                            {% for i in "12345" %}
                                                {% if forloop.counter <= review.rating %}
                                                    ★
                                                {% else %}
                                                    ☆
                                                {% endif %}
                                            {% endfor %}
                                        </div>
                                        <p class="text-sm text-gray-300 mt-3">
                                            {{ review.comment|default_if_none:''|truncatechars:90 }}
                                        </p>
                                    </article>
                                    {% endfor %}
                                </div>
                                <div class="review-group" aria-hidden="true">
                                    {% for review in reviews|slice:":5" %}
                                    <article class="review-card">
                                        <div class="flex items-center gap-3">
                                            <div class="review-avatar">
                                                {{ review.user.first_name|default:review.user.username|slice:":1" }}
                                            </div>
                                            <div>
                                                <div class="text-sm font-semibold text-gray-100">{{ review.user.first_name|default:review.user.username }}</div>
                                                <div class="text-xs text-gray-500">{{ review.created_at|date:"n/j/Y" }}</div>
                                            </div>
                                        </div>
                                        <div class="review-stars mt-3">
                                            {% for i in "12345" %}
                                                {% if forloop.counter <= review.rating %}
                                                    ★
                                                {% else %}
                                                    ☆
                                                {% endif %}
                                            {% endfor %}
                                        </div>
                                        <p class="text-sm text-gray-300 mt-3">
                                            {{ review.comment|default_if_none:''|truncatechars:90 }}
                                        </p>
                                    </article>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                        {% else %}
                        <div class="text-center text-gray-400">No customer reviews yet. Be the first to share your experience!</div>
                        {% endif %}
                    </div>
                </div>
            </section>

            <!-- CTA Section -->
           

        <!-- ==================== SHOP PAGE ==================== -->
      

        <!-- Footer (copied from shop page) -->
       
        <!-- Loader -->
<div id="loader" class="fixed inset-0 z-[9999] flex items-center justify-center bg-dark-900">
  <div class="flex flex-col items-center gap-4">
    <div class="w-16 h-16 rounded-full border-4 border-primary border-t-transparent animate-spin"></div>
    <span class="text-gray-400 tracking-widest">LOADING</span>
  </div>
</div>
<script>
  window.addEventListener("load", () => {
    const loader = document.getElementById("loader");
    loader.classList.add("opacity-0", "pointer-events-none");
    setTimeout(() => loader.remove(), 600);
  });
</script>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const prefersReduced = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
        if (prefersReduced) {
            return;
        }

        const revealTargets = document.querySelectorAll("[data-reveal]");
        revealTargets.forEach((el) => {
            el.classList.add("reveal");
            const variant = el.dataset.reveal;
            if (variant) {
                el.classList.add(`reveal--${variant}`);
            }
        });

        document.querySelectorAll("[data-reveal-stagger]").forEach((group) => {
            const items = group.querySelectorAll("[data-reveal-item]");
            items.forEach((item, index) => {
                item.style.transitionDelay = `${index * 80}ms`;
            });
        });

        const observer = new IntersectionObserver(
            (entries, obs) => {
                entries.forEach((entry) => {
                    if (!entry.isIntersecting) {
                        return;
                    }
                    entry.target.classList.add("is-visible");
                    obs.unobserve(entry.target);
                });
            },
            {
                threshold: 0.2,
                rootMargin: "0px 0px -10% 0px",
            }
        );

        revealTargets.forEach((el) => observer.observe(el));
    });
</script>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const ranges = document.querySelectorAll("[data-range]");
        ranges.forEach((range) => {
            const key = range.dataset.range;
            const label = document.querySelector(`[data-range-label="${key}"]`);
            const value = document.querySelector(`[data-range-value="${key}"]`);

            const updateValue = () => {
                const unit = key === "box" || key === "sens" ? "" : " ms";
                if (label) {
                    label.textContent = range.value;
                }
                if (value) {
                    value.textContent = `${range.value}${unit}`.trim();
                }
            };

            range.addEventListener("input", updateValue);
            updateValue();
        });
    });
</script>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const prefersReduced = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
        if (prefersReduced) {
            return;
        }

        const home = document.querySelector(".home-dots");
        const parallaxLayers = home ? home.querySelectorAll(".parallax-layer") : [];
        const parallaxTargets = home ? home.querySelectorAll("[data-parallax]") : [];
        let targetX = 0;
        let targetY = 0;
        let currentX = 0;
        let currentY = 0;
        let rafId = null;

        const animateParallax = () => {
            currentX += (targetX - currentX) * 0.08;
            currentY += (targetY - currentY) * 0.08;

            parallaxLayers.forEach((layer) => {
                const depth = Number(layer.dataset.depth) || 0.05;
                layer.style.transform = `translate3d(${currentX * depth}px, ${currentY * depth}px, 0)`;
            });

            parallaxTargets.forEach((target) => {
                const depth = Number(target.dataset.parallax) || 0.02;
                target.style.transform = `translate3d(${currentX * depth}px, ${currentY * depth}px, 0)`;
            });

            rafId = window.requestAnimationFrame(animateParallax);
        };

        if (home) {
            const updateGlow = (event) => {
                const rect = home.getBoundingClientRect();
                const xRatio = (event.clientX - rect.left) / rect.width;
                const yRatio = (event.clientY - rect.top) / rect.height;
                const xPx = Math.min(rect.width, Math.max(0, event.clientX - rect.left));
                const yPx = Math.min(rect.height, Math.max(0, event.clientY - rect.top));
                home.style.setProperty("--mx", `${xPx}px`);
                home.style.setProperty("--my", `${yPx}px`);

                targetX = (xRatio - 0.5) * 40;
                targetY = (yRatio - 0.5) * 40;
                if (!rafId) {
                    rafId = window.requestAnimationFrame(animateParallax);
                }
            };

            home.addEventListener("mousemove", updateGlow);
            home.addEventListener("mouseleave", () => {
                home.style.setProperty("--mx", "50%");
                home.style.setProperty("--my", "30%");
                targetX = 0;
                targetY = 0;
            });
        }

        const tiltTargets = document.querySelectorAll(
            ".card-hover, .review-card, .settings-card, .glass-panel"
        );

        tiltTargets.forEach((card) => {
            card.classList.add("tilt-card");

            card.addEventListener("mousemove", (event) => {
                const rect = card.getBoundingClientRect();
                const x = event.clientX - rect.left;
                const y = event.clientY - rect.top;
                const rotateX = ((y / rect.height) - 0.5) * -8;
                const rotateY = ((x / rect.width) - 0.5) * 8;

                card.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
                card.style.setProperty("--tilt-x", `${(x / rect.width) * 100}%`);
                card.style.setProperty("--tilt-y", `${(y / rect.height) * 100}%`);
            });

            card.addEventListener("mouseleave", () => {
                card.style.transform = "";
                card.style.setProperty("--tilt-x", "50%");
                card.style.setProperty("--tilt-y", "50%");
            });
        });
    });
</script>

    {% endblock %}
